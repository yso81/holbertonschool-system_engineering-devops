`
+-------------------+      +-----------------------------------------------------+
|     User's        |      |                         DNS                         |
|     Browser       |----->|   (Resolves foobar.com to HAProxy Cluster IP)     |
+-------------------+      +-----------------------------------------------------+
         |                                           |
         | (HTTPS Request - Encrypted)               |
         V                                           V
+---------------------------------------------------------------------------------+
|                                 ** FIREWALL 1 **                                |
|   (Perimeter Firewall: Restricts connections to HAProxy Cluster, e.g., port 443)|
+---------------------------------------------------------------------------------+
         |
         | (HTTPS Traffic)
         V
+---------------------------------------------------------------------------------+
|                       ** HAProxy LOAD BALANCER CLUSTER **                       |
|   (HAProxy 1 - Active, IP: 8.8.8.8)  <----VIP----> (HAProxy 2 - Passive, IP: 8.8.8.9) |
|   (Provides High Availability for Load Balancing, SSL Termination, Round-Robin) |
|   +--------------------------+    +--------------------------+                  |
|   |  MONITORING CLIENT       |    |  MONITORING CLIENT       |                  |
|   +--------------------------+    +--------------------------+                  |
+---------------------------------------------------------------------------------+
         | (HTTPS - Decrypted)
         |
         V
+---------------------------------------------------------------------------------+
|                                 ** FIREWALL 2 **                                |
|      (Internal Firewall: Restricts LB to Web/App Tier, e.g., ports 80/443)       |
+---------------------------------------------------------------------------------+
         |
         | (HTTP/HTTPS Traffic)
         |
         V
+---------------------------------------------------------------------------------+
|                               ** WEB/APPLICATION TIER **                        |
|   +---------------------+        +---------------------+                      |
|   |   ** SERVER A **     |        |   ** SERVER B **     |                      |
|   |   (IP: 10.0.0.1)      |        |   (IP: 10.0.0.2)      |                      |
|   |---------------------|        |---------------------|                      |
|   | 1. Web Server (Nginx) |        | 1. Web Server (Nginx) |                      |
|   | 2. Application Server |        | 2. Application Server |                      |
|   |    (App Files)        |        |    (App Files)        |                      |
|   |---------------------|        |---------------------|                      |
|   |  MONITORING CLIENT  |        |  MONITORING CLIENT  |                      |
|   +---------------------+        +---------------------+                      |
+---------------------------------------------------------------------------------+
         |
         | (Database Queries - Restricted to Port 3306)
         |
         V
+---------------------------------------------------------------------------------+
|                                 ** FIREWALL 3 **                                |
|   (Internal Firewall: Restricts Web/App Tier to DB Tier, e.g., port 3306)       |
+---------------------------------------------------------------------------------+
         |
         | (DB Traffic)
         |
         V
+---------------------------------------------------------------------------------+
|                               ** DATABASE TIER **                               |
|   +---------------------+        +---------------------+                      |
|   | ** DB SERVER C **    |        | ** DB SERVER D **    |                      |
|   | (IP: 10.0.0.3)      |        | (IP: 10.0.0.4)      |                      |
|   |---------------------|        |---------------------|                      |
|   | Database (MySQL)    |        | Database (MySQL)    |                      |
|   | (Primary Node)      |        | (Replica Node)      |                      |
|   |---------------------|        |---------------------|                      |
|   |  MONITORING CLIENT  |        |  MONITORING CLIENT  |                      |
|   +---------------------+        +---------------------+                      |
+---------------------------------------------------------------------------------+
`